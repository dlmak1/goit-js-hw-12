{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\n\r\nexport async function getImagesByQuery(query) {\r\n  try {\r\n    const response = await axios('', {\r\n      params: {\r\n        q: query,\r\n        key: '50246788-a6edd7baee942991099f119f0',\r\n        image_type: 'photo',\r\n        orientation: 'horizontal',\r\n        safesearch: true,\r\n      },\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    return error; \r\n  }\r\n}\r\n","import SimpleLightbox from 'simplelightbox';\r\nimport 'simplelightbox/dist/simple-lightbox.min.css';\r\n\r\nconst galleryContainer = document.querySelector('.js-gallery');\r\nconst loader = document.querySelector('.js-loader');\r\n\r\nconst lightbox = new SimpleLightbox('.js-gallery a', {\r\n  captionsData: 'alt',\r\n  captionDelay: 150,\r\n});\r\n\r\n// Створення розмітки для одного елемента галереї\r\nfunction createImageCard({ largeImageURL, webformatURL, tags, likes, views, comments, downloads }) {\r\n  return `\r\n    <li class=\"image-item\">\r\n      <div>\r\n        <a href=\"${largeImageURL}\" class=\"image-link\">\r\n          <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-image\" loading=\"lazy\">\r\n        </a>\r\n      </div>\r\n      <div>\r\n        <ul class=\"info-box\">\r\n          <li class=\"info-item\">\r\n            <p class=\"info-title\">Likes</p>\r\n            <p class=\"info-label\">${likes}</p>\r\n          </li>\r\n          <li class=\"info-item\">\r\n            <p class=\"info-title\">Views</p>\r\n            <p class=\"info-label\">${views}</p>\r\n          </li>\r\n          <li class=\"info-item\">\r\n            <p class=\"info-title\">Comments</p>\r\n            <p class=\"info-label\">${comments}</p>\r\n          </li>\r\n          <li class=\"info-item\">\r\n            <p class=\"info-title\">Downloads</p>\r\n            <p class=\"info-label\">${downloads}</p>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </li>\r\n  `;\r\n}\r\n\r\nexport function createGallery(images) {\r\n  const markup = images.map(createImageCard).join('');\r\n  galleryContainer.innerHTML = markup;\r\n  lightbox.refresh();\r\n}\r\n\r\nexport function clearGallery() {\r\n  galleryContainer.innerHTML = '';\r\n}\r\n\r\nexport function showLoader() {\r\n  loader?.classList.remove('hidden');\r\n}\r\n\r\nexport function hideLoader() {\r\n  loader?.classList.add('hidden');\r\n}\r\n","import { getImagesByQuery } from './js/pixabay-api';\r\nimport { createGallery, clearGallery, showLoader, hideLoader } from './js/render-functions';\r\nimport iziToast from 'izitoast';\r\nimport 'izitoast/dist/css/iziToast.min.css';\r\n\r\nconst form = document.querySelector('.js-form');\r\nconst input = document.querySelector('input[name=\"search-text\"]');\r\n\r\nform.addEventListener('submit', async function (event) {\r\n  event.preventDefault();\r\n  const query = input.value.trim();\r\n\r\n  if (!query) {\r\n    iziToast.error({\r\n      title: 'Error',\r\n      message: 'Please enter a search query.',\r\n      position: 'topRight',\r\n    });\r\n    return;\r\n  }\r\n\r\n  showLoader();\r\n  clearGallery();\r\n\r\n  try {\r\n    const res = await getImagesByQuery(query);\r\n\r\n    if (!res.hits.length) {\r\n      iziToast.error({\r\n        title: 'No images',\r\n        message: 'Sorry, there are no images matching your search query. Please try again!',\r\n        position: 'topRight',\r\n      });\r\n    } else {\r\n      createGallery(res.hits);\r\n    }\r\n  } catch (error) {\r\n    iziToast.error({\r\n      position: 'topCenter',\r\n      title: 'Error',\r\n      message: 'An error occurred while fetching images. Please try again later.',\r\n    });\r\n  } finally {\r\n    hideLoader();\r\n  }\r\n});\r\n"],"names":["axios","getImagesByQuery","query","error","galleryContainer","loader","lightbox","SimpleLightbox","createImageCard","largeImageURL","webformatURL","tags","likes","views","comments","downloads","createGallery","images","markup","clearGallery","showLoader","hideLoader","form","input","event","iziToast","res"],"mappings":"owBAEAA,EAAM,SAAS,QAAU,2BAElB,eAAeC,EAAiBC,EAAO,CAC5C,GAAI,CAUF,OATiB,MAAMF,EAAM,GAAI,CAC/B,OAAQ,CACN,EAAGE,EACH,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,GACe,IACjB,OAAQC,EAAO,CACd,OAAOA,CACR,CACH,CChBA,MAAMC,EAAmB,SAAS,cAAc,aAAa,EACvDC,EAAS,SAAS,cAAc,YAAY,EAE5CC,EAAW,IAAIC,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,GAChB,CAAC,EAGD,SAASC,EAAgB,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,GAAa,CACjG,MAAO;AAAA;AAAA;AAAA,mBAGUN,CAAa;AAAA,sBACVC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAOZC,CAAK;AAAA;AAAA;AAAA;AAAA,oCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,oCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,oCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,GAM7C,CAEO,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EAAO,IAAIT,CAAe,EAAE,KAAK,EAAE,EAClDJ,EAAiB,UAAYc,EAC7BZ,EAAS,QAAO,CAClB,CAEO,SAASa,GAAe,CAC7Bf,EAAiB,UAAY,EAC/B,CAEO,SAASgB,GAAa,CAC3Bf,GAAA,MAAAA,EAAQ,UAAU,OAAO,SAC3B,CAEO,SAASgB,GAAa,CAC3BhB,GAAA,MAAAA,EAAQ,UAAU,IAAI,SACxB,CCvDA,MAAMiB,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAQ,SAAS,cAAc,2BAA2B,EAEhED,EAAK,iBAAiB,SAAU,eAAgBE,EAAO,CACrDA,EAAM,eAAc,EACpB,MAAMtB,EAAQqB,EAAM,MAAM,KAAI,EAE9B,GAAI,CAACrB,EAAO,CACVuB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+BACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDL,IACAD,IAEA,GAAI,CACF,MAAMO,EAAM,MAAMzB,EAAiBC,CAAK,EAEnCwB,EAAI,KAAK,OAOZV,EAAcU,EAAI,IAAI,EANtBD,EAAS,MAAM,CACb,MAAO,YACP,QAAS,2EACT,SAAU,UAClB,CAAO,CAIJ,MAAe,CACdA,EAAS,MAAM,CACb,SAAU,YACV,MAAO,QACP,QAAS,kEACf,CAAK,CACL,QAAY,CACRJ,GACD,CACH,CAAC"}